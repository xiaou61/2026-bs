# 基于SpringBoot的中药餐饮推荐交流平台 - 产品需求文档（PRD）

## 一、项目概述

### 1.1 项目背景
随着人们生活水平提高和健康意识增强，中医药膳养生越来越受关注。然而，用户在选择中药餐饮时面临以下问题：
- 缺乏专业的中药饮食推荐渠道
- 不了解食材的功效和搭配禁忌
- 难以获取经过验证的食谱和烹饪建议
- 缺少同好交流讨论的社区

### 1.2 项目目标
- 构建一个集中药食疗推荐、食谱分享、社区交流于一体的综合平台
- 为用户提供专业的中药餐饮知识和个性化推荐
- 建立用户社区，促进中医药养生文化传播
- 实现用户、食谱、食材、评价的完整管理系统

### 1.3 项目范围
本系统主要面向对中医药养生感兴趣的用户群体，涵盖以下功能模块：
- 用户账号体系（注册、登录、个人中心）
- 食谱库管理与推荐
- 食材库管理与搭配指导
- 社区交流与讨论
- 个人健康档案
- 管理后台

---

## 二、用户角色分析

### 2.1 普通用户
| 属性 | 描述 |
|------|------|
| 用户特征 | 关注中医养生、中药食疗的用户 |
| 核心需求 | 获取食疗知识、分享经验、健康管理 |
| 使用场景 | 查询食谱、了解食材功效、参与讨论 |
| 痛点 | 信息杂乱、真伪难辨、缺少指导 |

### 2.2 内容创作者
| 属性 | 描述 |
|------|------|
| 用户特征 | 中医药专家、营养师、美食达人 |
| 核心需求 | 分享知识、建立专业形象、获取认可 |
| 使用场景 | 发布食谱、回答问题、互动交流 |
| 痛点 | 缺少展示平台、用户信任度低 |

### 2.3 系统管理员
| 属性 | 描述 |
|------|------|
| 用户特征 | 平台运营、内容审核、数据管理人员 |
| 核心需求 | 管理用户、审核内容、维护平台 |
| 使用场景 | 日常运维、用户管理、内容审核 |
| 痛点 | 工作量大、效率低下 |

---

## 三、功能需求

### 3.1 用户端功能模块

#### 3.1.1 用户认证模块
| 功能点 | 功能描述 | 优先级 |
|--------|----------|--------|
| 用户注册 | 支持手机号/邮箱注册，邮箱验证 | P0 |
| 用户登录 | 账号密码登录、社交登录（可选） | P0 |
| 密码管理 | 密码修改、忘记密码找回 | P1 |
| 个人信息 | 修改头像、昵称、个人简介 | P1 |
| 健康档案 | 填写体质、过敏史、健康目标 | P1 |

#### 3.1.2 食谱浏览与推荐模块
| 功能点 | 功能描述 | 优先级 |
|--------|----------|--------|
| 食谱列表 | 分类展示食谱（热门、最新、推荐） | P0 |
| 食谱搜索 | 按名称、功效、季节、人群搜索 | P0 |
| 食谱详情 | 查看材料、做法、功效、营养价值 | P0 |
| 个性推荐 | 根据健康档案智能推荐食谱 | P1 |
| 食谱收藏 | 收藏喜爱的食谱，快速查找 | P1 |

#### 3.1.3 食材库模块
| 功能点 | 功能描述 | 优先级 |
|--------|----------|--------|
| 食材搜索 | 查询食材的功效和性质 | P1 |
| 食材详情 | 食材功效、性质、搭配禁忌 | P1 |
| 搭配指南 | 显示最佳搭配食材和禁忌搭配 | P2 |
| 食材对比 | 对比不同食材的营养价值 | P2 |

#### 3.1.4 社区交流模块
| 功能点 | 功能描述 | 优先级 |
|--------|----------|--------|
| 话题讨论 | 创建话题、回复讨论、点赞评论 | P1 |
| 专家问答 | 向专家提问，获取专业建议 | P1 |
| 经验分享 | 发布食疗心得和健康故事 | P1 |
| 话题推荐 | 根据兴趣推荐相关话题讨论 | P2 |
| 私信交流 | 用户之间私下交流（可选） | P2 |

#### 3.1.5 评价与反馈模块
| 功能点 | 功能描述 | 优先级 |
|--------|----------|--------|
| 食谱评价 | 对食谱进行评分和评价 | P1 |
| 试吃分享 | 发布制作结果和效果反馈 | P1 |
| 图片上传 | 上传食谱制作过程和成品照片 | P1 |
| 有用度评分 | 用户对其他评价点赞或点踩 | P2 |

#### 3.1.6 个人中心模块
| 功能点 | 功能描述 | 优先级 |
|--------|----------|--------|
| 我的收藏 | 查看收藏的食谱和话题 | P1 |
| 我的评价 | 查看发布的评价和反馈 | P1 |
| 我的讨论 | 查看参与的话题讨论 | P1 |
| 健康统计 | 统计使用情况和健康建议 | P2 |
| 积分系统 | 任务完成、签到获取积分 | P2 |

### 3.2 内容创作者功能模块

#### 3.2.1 食谱发布模块
| 功能点 | 功能描述 | 优先级 |
|--------|----------|--------|
| 创建食谱 | 填写标题、材料、做法、功效 | P0 |
| 材料管理 | 添加食材及用量，自动计算价格 | P1 |
| 做法编辑 | 分步骤编辑制作流程 | P1 |
| 图片上传 | 上传食谱封面和步骤图片 | P1 |
| 食谱分类 | 选择适用人群、季节、功效分类 | P1 |

#### 3.2.2 内容管理模块
| 功能点 | 功能描述 | 优先级 |
|--------|----------|--------|
| 我的食谱 | 管理发布的所有食谱 | P1 |
| 编辑删除 | 修改或删除已发布的食谱 | P1 |
| 浏览统计 | 查看食谱浏览量、评价数、收藏数 | P1 |
| 状态管理 | 食谱发布/草稿/审核状态管理 | P1 |

#### 3.2.3 创作者认证模块
| 功能点 | 功能描述 | 优先级 |
|--------|----------|--------|
| 认证申请 | 提交资质申请（医师证、营养师等） | P1 |
| 专家标签 | 认证通过后获得专家/达人标签 | P1 |
| 粉丝系统 | 粉丝关注、粉丝数统计 | P1 |
| 创作收益 | 统计内容阅读量和互动数据 | P2 |

### 3.3 管理端功能模块

#### 3.3.1 系统管理模块
| 功能点 | 功能描述 | 优先级 |
|--------|----------|--------|
| 管理员登录 | 管理员账号密码登录 | P0 |
| 角色管理 | 管理系统角色及权限 | P1 |
| 操作日志 | 记录和查询系统操作日志 | P1 |
| 系统配置 | 配置系统参数（推荐算法、审核标准等） | P1 |

#### 3.3.2 用户管理模块
| 功能点 | 功能描述 | 优先级 |
|--------|----------|--------|
| 用户列表 | 查看所有注册用户 | P0 |
| 用户详情 | 查看用户信息和活动记录 | P1 |
| 用户禁用 | 禁用/启用违规用户账号 | P1 |
| 认证审核 | 审核创作者认证申请 | P0 |
| 用户统计 | 用户增长、活跃度统计 | P1 |

#### 3.3.3 内容管理模块
| 功能点 | 功能描述 | 优先级 |
|--------|----------|--------|
| 食谱审核 | 审核待发布的食谱内容 | P0 |
| 话题审核 | 审核社区话题和评论 | P1 |
| 内容编辑 | 编辑或下架违规内容 | P1 |
| 推荐管理 | 设置首页推荐食谱 | P1 |
| 分类管理 | 管理食谱和食材分类 | P1 |

#### 3.3.4 食材库管理模块
| 功能点 | 功能描述 | 优先级 |
|--------|----------|--------|
| 食材录入 | 添加新的食材信息 | P1 |
| 食材编辑 | 修改食材功效和属性 | P1 |
| 搭配维护 | 维护食材间的搭配关系 | P1 |
| 禁忌管理 | 管理食材禁忌搭配 | P1 |

#### 3.3.5 数据统计模块
| 功能点 | 功能描述 | 优先级 |
|--------|----------|--------|
| 首页概览 | 展示核心数据指标 | P0 |
| 用户分析 | 用户增长、活跃度、留存率 | P1 |
| 内容分析 | 食谱发布量、评价量、热度排行 | P1 |
| 互动分析 | 社区讨论热度、用户参与度 | P1 |
| 报表导出 | 导出各类数据报表 | P2 |

---

## 四、非功能需求

### 4.1 性能需求
| 指标 | 要求 |
|------|------|
| 响应时间 | 普通接口 < 500ms，复杂查询 < 2s |
| 并发能力 | 支持500+用户同时在线 |
| 数据库 | 支持10万级食谱数据查询 |
| 可用性 | 系统可用性 > 99.5% |

### 4.2 安全需求
| 类型 | 要求 |
|------|------|
| 身份认证 | JWT Token认证机制 |
| 数据传输 | HTTPS加密传输 |
| 密码存储 | BCrypt加密存储 |
| 权限控制 | 基于RBAC的权限管理 |
| 日志审计 | 关键操作日志记录 |

### 4.3 兼容性需求
| 类型 | 要求 |
|------|------|
| 浏览器 | Chrome、Firefox、Edge、Safari最新两个版本 |
| 分辨率 | 适配1920x1080及以上分辨率 |
| 移动端 | 响应式设计，支持移动端访问 |

---

## 五、数据模型设计

### 5.1 核心实体

#### 5.1.1 用户表（user）
| 字段名 | 类型 | 说明 |
|--------|------|------|
| id | bigint | 主键ID |
| username | varchar(50) | 用户名 |
| password | varchar(255) | 密码（加密） |
| email | varchar(100) | 邮箱 |
| phone | varchar(20) | 手机号 |
| avatar | varchar(255) | 头像URL |
| nickname | varchar(50) | 昵称 |
| bio | varchar(500) | 个人简介 |
| user_type | tinyint | 用户类型（0普通1创作者2管理员） |
| status | tinyint | 状态（0禁用1正常） |
| create_time | datetime | 创建时间 |
| update_time | datetime | 更新时间 |

#### 5.1.2 健康档案表（health_profile）
| 字段名 | 类型 | 说明 |
|--------|------|------|
| id | bigint | 主键ID |
| user_id | bigint | 用户ID |
| constitution | varchar(50) | 体质类型 |
| allergies | text | 过敏史 |
| health_goals | text | 健康目标 |
| dietary_restrictions | text | 饮食禁忌 |
| create_time | datetime | 创建时间 |
| update_time | datetime | 更新时间 |

#### 5.1.3 食谱表（recipe）
| 字段名 | 类型 | 说明 |
|--------|------|------|
| id | bigint | 主键ID |
| title | varchar(100) | 食谱名称 |
| description | text | 食谱描述 |
| author_id | bigint | 作者ID |
| cover_image | varchar(255) | 封面图片URL |
| efficacy | text | 功效说明 |
| nutrition | text | 营养价值 |
| difficulty | tinyint | 难度级别 |
| cook_time | int | 烹饪时长（分钟） |
| servings | int | 份数 |
| applicable_people | varchar(255) | 适用人群 |
| seasons | varchar(255) | 适用季节 |
| status | tinyint | 状态（0草稿1审核中2已发布3已下架） |
| views | int | 浏览次数 |
| likes | int | 点赞数 |
| collects | int | 收藏数 |
| create_time | datetime | 创建时间 |
| update_time | datetime | 更新时间 |

#### 5.1.4 食材表（ingredient）
| 字段名 | 类型 | 说明 |
|--------|------|------|
| id | bigint | 主键ID |
| name | varchar(100) | 食材名称 |
| category | varchar(50) | 分类（蔬菜、中药、肉类等） |
| nature | varchar(50) | 性质（温、热、凉、冷） |
| taste | varchar(100) | 味道 |
| efficacy | text | 功效 |
| nutrition | text | 营养成分 |
| image | varchar(255) | 食材图片 |
| status | tinyint | 状态（0禁用1正常） |
| create_time | datetime | 创建时间 |

#### 5.1.5 食材禁忌表（ingredient_taboo）
| 字段名 | 类型 | 说明 |
|--------|------|------|
| id | bigint | 主键ID |
| ingredient_id1 | bigint | 食材ID1 |
| ingredient_id2 | bigint | 食材ID2 |
| reason | text | 禁忌原因 |
| create_time | datetime | 创建时间 |

#### 5.1.6 食谱材料表（recipe_ingredient）
| 字段名 | 类型 | 说明 |
|--------|------|------|
| id | bigint | 主键ID |
| recipe_id | bigint | 食谱ID |
| ingredient_id | bigint | 食材ID |
| quantity | decimal(10,2) | 用量 |
| unit | varchar(20) | 单位 |
| create_time | datetime | 创建时间 |

#### 5.1.7 社区话题表（topic）
| 字段名 | 类型 | 说明 |
|--------|------|------|
| id | bigint | 主键ID |
| title | varchar(200) | 话题标题 |
| content | text | 话题内容 |
| author_id | bigint | 作者ID |
| category | varchar(50) | 分类 |
| tags | text | 标签（JSON数组） |
| views | int | 浏览数 |
| replies | int | 回复数 |
| status | tinyint | 状态（0草稿1已发布2已关闭） |
| create_time | datetime | 创建时间 |
| update_time | datetime | 更新时间 |

#### 5.1.8 评论表（comment）
| 字段名 | 类型 | 说明 |
|--------|------|------|
| id | bigint | 主键ID |
| target_type | tinyint | 目标类型（0食谱1话题） |
| target_id | bigint | 目标ID |
| user_id | bigint | 用户ID |
| content | text | 评论内容 |
| rating | tinyint | 评分（用于食谱评价） |
| image_urls | text | 图片URL（JSON数组） |
| likes | int | 点赞数 |
| status | tinyint | 状态（0正常1隐藏） |
| create_time | datetime | 创建时间 |
| update_time | datetime | 更新时间 |

#### 5.1.9 收藏表（collection）
| 字段名 | 类型 | 说明 |
|--------|------|------|
| id | bigint | 主键ID |
| user_id | bigint | 用户ID |
| target_type | tinyint | 目标类型（0食谱1话题） |
| target_id | bigint | 目标ID |
| create_time | datetime | 创建时间 |

#### 5.1.10 创作者认证表（creator_auth）
| 字段名 | 类型 | 说明 |
|--------|------|------|
| id | bigint | 主键ID |
| user_id | bigint | 用户ID |
| auth_type | varchar(50) | 认证类型（医生、营养师等） |
| credentials | text | 资质信息（JSON） |
| status | tinyint | 状态（0待审核1已认证2已驳回） |
| auth_time | datetime | 认证时间 |
| create_time | datetime | 创建时间 |

---

## 六、技术架构

### 6.1 技术选型

#### 后端技术栈
| 技术 | 版本 | 说明 |
|------|------|------|
| Spring Boot | 3.2.x | 基础框架 |
| MyBatis-Plus | 3.5.x | ORM框架 |
| MySQL | 8.0 | 数据库 |
| Redis | 6.x | 缓存 |
| JWT | - | 身份认证 |
| Swagger | 3.x | API文档 |
| Hutool | 5.x | 工具类库 |

#### 前端技术栈
| 技术 | 版本 | 说明 |
|------|------|------|
| Vue.js | 3.x | 前端框架 |
| Element Plus | 2.x | UI组件库 |
| Axios | - | HTTP请求 |
| Pinia | - | 状态管理 |
| Vue Router | 4.x | 路由管理 |
| ECharts | 5.x | 图表组件 |

### 6.2 系统架构图
```
┌─────────────────────────────────────────────────────────┐
│                      前端层                              │
│  ┌─────────────────┐    ┌─────────────────┐            │
│  │  用户端 (Vue3)   │    │  管理端 (Vue3)   │            │
│  └────────┬────────┘    └────────┬────────┘            │
└───────────┼──────────────────────┼──────────────────────┘
            │                      │
            ▼                      ▼
┌─────────────────────────────────────────────────────────┐
│                    网关/API层                            │
│              Spring Boot REST API                        │
└─────────────────────────────┬───────────────────────────┘
                              │
┌─────────────────────────────┼───────────────────────────┐
│                    业务服务层                            │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌─────────┐ │
│  │ 用户服务  │  │ 食谱服务  │  │ 社区服务  │  │ 管理服务 │ │
│  └──────────┘  └──────────┘  └──────────┘  └─────────┘ │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐             │
│  │ 食材服务  │  │ 评价服务  │  │ 推荐服务  │             │
│  └──────────┘  └──────────┘  └──────────┘             │
└─────────────────────────────┬───────────────────────────┘
                              │
┌─────────────────────────────┼───────────────────────────┐
│                    数据存储层                            │
│        ┌─────────┐            ┌─────────┐              │
│        │  MySQL  │            │  Redis  │              │
│        └─────────┘            └─────────┘              │
└─────────────────────────────────────────────────────────┘
```

---

## 七、接口设计

### 7.1 接口规范
- 基础URL: `/api/v1`
- 请求格式: JSON
- 响应格式: 统一JSON格式

```json
{
  "code": 200,
  "message": "success",
  "data": {}
}
```

### 7.2 核心接口列表

#### 用户端接口
| 接口 | 方法 | 路径 | 说明 |
|------|------|------|------|
| 用户注册 | POST | /user/register | 新用户注册 |
| 用户登录 | POST | /user/login | 用户登录 |
| 获取用户信息 | GET | /user/info | 获取当前用户信息 |
| 更新个人信息 | PUT | /user/info | 更新个人信息 |
| 食谱列表 | GET | /recipe/list | 获取食谱列表 |
| 食谱详情 | GET | /recipe/{id} | 获取食谱详情 |
| 搜索食谱 | GET | /recipe/search | 搜索食谱 |
| 收藏食谱 | POST | /recipe/{id}/collect | 收藏食谱 |
| 我的收藏 | GET | /user/collections | 获取收藏列表 |
| 食材详情 | GET | /ingredient/{id} | 获取食材信息 |
| 创建话题 | POST | /topic/create | 创建社区话题 |
| 话题列表 | GET | /topic/list | 获取话题列表 |
| 话题详情 | GET | /topic/{id} | 获取话题详情 |
| 发表评论 | POST | /comment/create | 发表评论 |
| 评论列表 | GET | /comment/list | 获取评论列表 |

#### 创作者接口
| 接口 | 方法 | 路径 | 说明 |
|------|------|------|------|
| 申请认证 | POST | /creator/auth/apply | 申请创作者认证 |
| 发布食谱 | POST | /recipe/create | 创建新食谱 |
| 更新食谱 | PUT | /recipe/{id} | 更新食谱 |
| 删除食谱 | DELETE | /recipe/{id} | 删除食谱 |
| 我的食谱 | GET | /creator/recipes | 获取我的食谱列表 |
| 食谱统计 | GET | /creator/stats | 获取食谱统计信息 |

#### 管理端接口
| 接口 | 方法 | 路径 | 说明 |
|------|------|------|------|
| 管理员登录 | POST | /admin/login | 管理员登录 |
| 数据统计 | GET | /admin/stats/overview | 获取统计概览 |
| 用户列表 | GET | /admin/user/list | 获取用户列表 |
| 食谱审核 | GET | /admin/recipe/pending | 获取待审核食谱 |
| 审核食谱 | PUT | /admin/recipe/{id}/audit | 审核食谱 |
| 认证审核 | GET | /admin/auth/pending | 获取待审核认证 |
| 审核认证 | PUT | /admin/auth/{id}/audit | 审核认证申请 |
| 话题审核 | GET | /admin/topic/list | 获取话题列表 |
| 评论审核 | GET | /admin/comment/list | 获取评论列表 |

---

## 八、计费与激励规则

### 8.1 用户激励
| 行为 | 积分 |
|------|------|
| 每日签到 | +5积分 |
| 发表评价 | +10积分 |
| 话题被点赞 | +1积分/次 |
| 发布食谱 | +50积分 |

### 8.2 创作者收益（可选）
- 食谱浏览收益
- 内容打赏分成
- 认证创作者特殊权益

---

## 九、项目里程碑

| 阶段 | 内容 | 预计时间 |
|------|------|---------|
| 第一阶段 | 需求分析与设计 | 1周 |
| 第二阶段 | 数据库设计与基础框架搭建 | 1周 |
| 第三阶段 | 后端核心功能开发 | 3周 |
| 第四阶段 | 前端用户端开发 | 2周 |
| 第五阶段 | 前端管理端开发 | 2周 |
| 第六阶段 | 系统联调与测试 | 1周 |
| 第七阶段 | 优化与文档编写 | 1周 |

---

## 十、项目亮点

### 10.1 业务亮点
- **专业知识库**：完整的食材和食谱数据库，涵盖中医药养生知识
- **智能推荐系统**：基于用户健康档案的个性化食谱推荐
- **食材搭配指导**：完善的食材禁忌和搭配建议系统
- **社区交流平台**：专业创作者与普通用户的互动交流社区
- **内容审核机制**：确保平台内容的专业性和准确性
- **创作者激励**：激励专业人士分享知识和经验

### 10.2 技术亮点
- **前后端分离**：清晰的架构设计，便于团队协作和维护
- **RESTful API设计**：统一的接口规范和标准化响应格式
- **JWT无状态认证**：支持分布式扩展和水平扩容
- **Redis缓存**：优化热点数据访问，提升系统性能
- **MyBatis-Plus**：高效的数据访问层，减少重复代码
- **推荐算法**：个性化推荐算法提升用户体验

---

## 十一、风险评估与对策

### 11.1 技术风险
| 风险 | 应对措施 |
|------|---------|
| 推荐算法复杂度高 | 先实现简单推荐，后续迭代优化 |
| 大数据量查询性能 | 使用Redis缓存热点数据，数据库分页 |
| 文件上传处理 | 使用阿里OSS或腾讯COS存储 |

### 11.2 业务风险
| 风险 | 应对措施 |
|------|---------|
| 内容质量参差不齐 | 建立审核机制和用户评价体系 |
| 食材信息准确性 | 邀请专业人士审核，设置反馈机制 |
| 用户隐私保护 | 严格遵守隐私政策，加密敏感信息 |

### 11.3 运营风险
| 风险 | 应对措施 |
|------|---------|
| 初期用户量少 | 建立创作者激励机制，邀请专家入驻 |
| 内容更新速度慢 | 与中医机构合作，获取专业内容 |

---

**文档版本**：v1.0  
**编写日期**：2025-12-12  
**项目编号**：029  
**负责人**：开发团队
