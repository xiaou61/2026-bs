# 基于SpringBoot的婚纱写真馆管理系统的设计与实现 - 产品需求文档(PRD)

## 1. 产品概述

### 1.1 产品名称
婚纱写真馆管理系统

### 1.2 产品定义
一个面向婚纱摄影工作室和写真馆的综合性业务管理平台，通过信息化手段实现客户管理、订单管理、摄影师排班、影棚预约、服装道具管理、财务统计等核心业务流程的数字化管理。

### 1.3 核心价值
- 提升婚纱写真馆业务处理效率
- 规范客户服务流程，提升客户体验
- 实现资源（摄影师、影棚、服装）优化配置
- 提供数据驱动的经营决策支持
- 降低人工管理成本和错误率

---

## 2. 产品目标

### 2.1 用户目标
- **客户**：便捷预约拍摄、查看订单进度、在线选片、获得优质服务体验
- **摄影师**：查看排班安排、管理客户拍摄、上传作品、跟踪订单状态
- **门店经理**：全面管理订单、客户、员工、资源分配
- **财务人员**：管理收支、统计业绩、生成财务报表
- **系统管理员**：管理用户、权限、系统配置

### 2.2 业务目标
- 提高订单处理效率 50% 以上
- 实现客户资料电子化管理
- 减少资源冲突和调度失误
- 提升客户满意度和复购率
- 建立完整的业务数据分析体系

---

## 3. 核心功能模块

### 3.1 用户管理模块
#### 3.1.1 功能描述
管理系统所有用户账户、角色、权限

#### 3.1.2 主要功能
- 用户注册与登录（账号密码、手机验证码）
- 用户信息管理（姓名、手机、邮箱、头像等）
- 角色管理（客户、摄影师、门店经理、财务、管理员）
- 权限控制与分配
- 用户状态管理（启用、禁用）
- 密码修改与重置

### 3.2 客户管理模块
#### 3.2.1 功能描述
管理客户基本信息、消费记录、服务历史

#### 3.2.2 主要功能
- 客户信息录入（姓名、性别、年龄、联系方式、地址等）
- 客户分类管理（婚纱客户、写真客户、VIP客户等）
- 客户来源跟踪（网络、门店、推荐等）
- 客户标签管理（已拍摄、已选片、待取片等）
- 客户消费历史查询
- 客户跟进记录
- 客户生日提醒
- 客户满意度评价

### 3.3 套餐管理模块
#### 3.3.1 功能描述
管理婚纱摄影和写真拍摄的各类套餐产品

#### 3.3.2 主要功能
- 套餐分类（婚纱摄影、个人写真、儿童摄影、全家福等）
- 套餐信息管理（名称、价格、内容描述、服装数量、精修数量等）
- 套餐内容配置（拍摄时长、造型数量、拍摄场景、赠品等）
- 套餐图片展示
- 套餐上下架管理
- 优惠活动管理
- 套餐销量统计

### 3.4 预约管理模块
#### 3.4.1 功能描述
管理客户的拍摄预约、选片预约、取片预约

#### 3.4.2 主要功能
- 拍摄预约（选择日期、时段、套餐、摄影师、影棚）
- 预约日历展示（可视化查看预约情况）
- 预约冲突检测（避免资源重复预约）
- 预约提醒通知（短信、微信）
- 预约改期与取消
- 选片预约管理
- 取片预约管理
- 预约统计与分析

### 3.5 订单管理模块
#### 3.5.1 功能描述
管理客户订单全流程（下单、支付、执行、完成）

#### 3.5.2 主要功能
- 订单创建（关联客户、套餐、预约信息）
- 订单状态管理（待支付、已支付、拍摄中、选片中、制作中、已完成、已取消）
- 订单支付管理（定金、尾款、支付方式）
- 订单详情查看（包含客户信息、套餐信息、预约信息、照片信息）
- 订单进度跟踪
- 订单修改与退款
- 订单搜索与筛选
- 订单导出功能

### 3.6 摄影师管理模块
#### 3.6.1 功能描述
管理摄影师信息、排班、业绩

#### 3.6.2 主要功能
- 摄影师信息管理（姓名、照片、擅长风格、作品展示等）
- 摄影师等级管理（资深、首席、高级、普通）
- 摄影师排班管理（工作日期、工作时段、休假管理）
- 摄影师订单分配
- 摄影师业绩统计（接单数、客户评价、业绩金额）
- 摄影师作品管理
- 摄影师评价查看

### 3.7 影棚管理模块
#### 3.7.1 功能描述
管理影棚资源和预约使用情况

#### 3.7.2 主要功能
- 影棚信息管理（名称、面积、风格、设备、照片）
- 影棚预约管理（日期、时段、使用状态）
- 影棚使用日历
- 影棚维护记录
- 影棚使用率统计

### 3.8 服装道具管理模块
#### 3.8.1 功能描述
管理婚纱礼服、服装、道具的库存和借用

#### 3.8.2 主要功能
- 服装信息管理（编号、名称、类型、尺码、颜色、照片）
- 服装分类（婚纱、礼服、中式服装、主题服装等）
- 服装库存管理（在库、借出、维修、报废）
- 服装借用记录
- 服装归还管理
- 服装清洗维护记录
- 道具管理（背景布、饰品、摆件等）
- 服装采购记录

### 3.9 相册管理模块
#### 3.9.1 功能描述
管理客户拍摄照片、选片、精修

#### 3.9.2 主要功能
- 照片上传（支持批量上传）
- 照片分类管理（按订单、按客户、按摄影师）
- 在线选片（客户选择要精修的照片）
- 精修管理（标记待精修、精修中、已完成）
- 照片预览与下载
- 照片水印管理
- 照片存储管理
- 相册制作进度跟踪

### 3.10 财务管理模块
#### 3.10.1 功能描述
管理收支、业绩统计、财务报表

#### 3.10.2 主要功能
- 收入管理（订单收入、定金、尾款）
- 支出管理（服装采购、设备维护、房租水电、员工工资等）
- 收支流水记录
- 财务对账
- 业绩统计（按日、周、月、年）
- 摄影师提成计算
- 财务报表生成（收入报表、支出报表、利润报表）
- 数据导出（Excel、PDF）

### 3.11 统计分析模块
#### 3.11.1 功能描述
提供多维度的数据统计和分析

#### 3.11.2 主要功能
- 营业数据概览（今日/本月订单数、收入、客户数等）
- 客户统计分析（客户来源分析、客户类型分布）
- 套餐销售分析（热门套餐、销售趋势）
- 摄影师业绩对比
- 影棚使用率分析
- 客户满意度统计
- 预约时段分析
- 自定义报表生成

### 3.12 系统管理模块
#### 3.12.1 功能描述
系统配置、日志管理、数据备份

#### 3.12.2 主要功能
- 系统参数配置（营业时间、联系方式、门店信息等）
- 数据字典管理
- 操作日志记录与查询
- 登录日志管理
- 系统公告管理
- 数据备份与恢复
- 系统监控

---

## 4. 非功能需求

### 4.1 性能需求
- 页面响应时间 < 1秒
- 支持至少 500 并发用户
- 照片上传速度 > 1MB/s
- 数据库查询优化（复杂查询 < 3秒）

### 4.2 安全需求
- 用户密码加密存储（BCrypt）
- 支持JWT身份认证
- 数据访问权限控制（RBAC）
- 敏感数据脱敏展示
- 防止SQL注入、XSS攻击
- 操作日志审计
- 数据传输加密（HTTPS）

### 4.3 可靠性需求
- 系统可用性 > 99%
- 数据备份频率 ≥ 每天一次
- 支持数据恢复
- 异常处理机制完善

### 4.4 可扩展性需求
- 支持多门店扩展
- 支持业务流程配置化
- 支持第三方系统集成（如支付平台、短信平台）
- 数据库支持分表扩展

### 4.5 兼容性需求
- Web端支持主流浏览器（Chrome、Firefox、Safari、Edge）
- 响应式设计，适配PC、平板、手机
- 支持主流分辨率

---

## 5. 用户角色与权限

| 用户角色 | 主要权限 | 典型场景 |
|--------|--------|--------|
| 客户 | 查看套餐、预约拍摄、查看订单、在线选片 | 预约服务、查询进度 |
| 摄影师 | 查看排班、管理订单、上传照片、查看业绩 | 日常拍摄工作 |
| 门店经理 | 管理客户、订单、员工、资源、查看统计 | 门店运营管理 |
| 财务人员 | 管理财务、查看报表、导出数据 | 财务核算统计 |
| 系统管理员 | 系统配置、用户管理、权限分配、数据备份 | 系统维护 |

---

## 6. 数据模型概览

### 6.1 主要数据实体
- **用户表**：user
- **客户信息表**：customer
- **套餐表**：package
- **预约表**：appointment
- **订单表**：order
- **摄影师表**：photographer
- **影棚表**：studio
- **服装表**：costume
- **道具表**：prop
- **照片表**：photo
- **选片记录表**：photo_selection
- **财务流水表**：financial_record
- **操作日志表**：operation_log
- **系统配置表**：system_config

---

## 7. 技术架构

### 7.1 技术栈
- **后端框架**：Spring Boot 3.2.0
- **ORM框架**：MyBatis 3.5.x
- **数据库**：MySQL 8.0+
- **缓存**：Redis
- **身份认证**：JWT
- **前端框架**：React 18
- **前端UI库**：Ant Design
- **文件存储**：本地存储 / OSS（可选）

### 7.2 架构设计
- 采用分层架构：Controller → Service → Mapper
- 使用MyBatis进行数据访问
- 使用JWT进行身份认证和授权
- 使用Redis缓存热点数据
- 统一异常处理和返回格式
- 使用AOP处理日志、权限等横切关注点

### 7.3 数据库设计原则
- 遵循三范式
- 合理使用索引提升查询性能
- 敏感字段加密存储
- 重要表添加逻辑删除字段
- 统一添加创建时间、更新时间字段

---

## 8. 业务流程

### 8.1 客户预约拍摄流程
1. 客户浏览套餐选择心仪套餐
2. 选择拍摄日期、时段
3. 选择摄影师（可选）
4. 选择影棚（可选）
5. 提交预约申请
6. 系统检查资源冲突
7. 确认预约并生成订单
8. 支付定金
9. 预约成功，发送确认通知

### 8.2 拍摄完成到取片流程
1. 拍摄完成，摄影师上传照片到系统
2. 客户预约选片时间
3. 客户到店或在线选片
4. 确认选片结果
5. 后期精修照片
6. 相册制作
7. 通知客户取片
8. 支付尾款
9. 完成交付

### 8.3 订单退款流程
1. 客户申请退款
2. 门店经理审核
3. 财务确认退款金额
4. 执行退款操作
5. 更新订单状态
6. 通知客户退款完成

---

## 9. 关键技术点

### 9.1 资源调度算法
- 实现摄影师、影棚的智能调度
- 避免资源冲突
- 支持资源优先级配置

### 9.2 照片存储方案
- 支持大量照片存储
- 照片压缩优化
- 支持分布式存储扩展
- 照片快速检索

### 9.3 数据统计性能优化
- 使用Redis缓存统计数据
- 定时任务预计算
- 数据库查询优化

### 9.4 消息通知
- 短信通知（预约提醒、订单通知）
- 站内消息
- 邮件通知

---

## 10. 项目交付标准

### 10.1 代码质量
- 代码结构清晰，遵循阿里巴巴Java开发规范
- 无冗余注释
- 统一的代码风格

### 10.2 功能完整性
- 核心功能模块完整实现
- 功能覆盖率 > 95%

### 10.3 数据库设计
- 提供完整的数据库设计脚本
- 包含初始化数据

### 10.4 系统文档
- 需求文档（本文档）
- 数据库设计文档
- API接口文档

---

## 11. 项目计划

### 11.1 开发周期
预计总工期：8-10周

### 11.2 阶段划分
- **第1-2周**：需求分析、技术选型、架构设计、数据库设计
- **第3-5周**：核心功能开发（用户、客户、套餐、订单、预约）
- **第6-7周**：辅助功能开发（摄影师、影棚、服装、相册、财务）
- **第8周**：统计分析、系统管理功能开发
- **第9周**：系统测试、Bug修复、性能优化
- **第10周**：部署上线、文档整理、项目验收

---

## 12. 风险与应对

### 12.1 技术风险
- **风险**：照片存储容量快速增长
- **应对**：设计可扩展的存储方案，支持OSS

### 12.2 业务风险
- **风险**：预约冲突导致客户体验差
- **应对**：完善资源调度算法，实时检测冲突

### 12.3 数据风险
- **风险**：客户数据丢失
- **应对**：定期备份，主从复制，异地容灾

---

## 13. 后续优化方向

### 13.1 移动端支持
- 开发微信小程序
- 开发移动端App

### 13.2 智能化升级
- AI智能推荐套餐
- 自动照片筛选
- 智能相册排版

### 13.3 营销功能
- 优惠券系统
- 会员积分体系
- 客户推荐奖励

### 13.4 多门店支持
- 支持连锁门店管理
- 门店间数据同步
- 跨门店业务协同

---

## 14. 总结

本婚纱写真馆管理系统旨在通过信息化手段提升婚纱摄影行业的运营效率和服务质量。系统覆盖从客户接待、预约、拍摄、选片到取片的完整业务流程，通过合理的资源调度、完善的数据管理、精准的财务统计，帮助婚纱写真馆实现业务数字化转型，提升市场竞争力。
