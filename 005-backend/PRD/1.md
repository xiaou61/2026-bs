🧾 产品需求文档（PRD）
一、项目概述

项目名称： 基于 Spring Boot + Vue 的在线问卷调查与数据分析系统
项目类型： Web 系统（前后端分离）
主要技术栈：

前端：Vue 3、Element Plus、Axios、ECharts

后端：Spring Boot 3、MyBatis、MySQL、Lombok

工具：Maven、Postman、Navicat

部署环境：JDK 17、Nginx、Tomcat

项目简介：
本系统旨在提供一个 可视化、自动化的问卷设计与数据分析平台。用户可在线创建问卷、发布问卷、收集答卷，并通过图表直观展示分析结果。系统面向企业、学校、科研团队等场景，满足用户的调查与分析需求。

二、核心目标
模块	目标说明
问卷管理	提供问卷的创建、编辑、发布、删除、回收等操作
问题设计	支持多种题型（单选、多选、填空、评分等）
答卷填写	用户通过链接填写问卷，系统自动保存结果
数据分析	统计各题结果，自动生成饼图、柱状图、折线图等分析报表
权限管理	区分管理员与普通用户，确保数据安全与权限隔离
系统管理	支持用户注册、登录、修改信息等基础功能
三、系统角色与权限
角色	权限描述
管理员	管理所有问卷、查看全站统计、用户管理
普通用户	创建问卷、查看自己问卷的结果分析
填答者	通过问卷链接填写问卷，无需登录
四、功能模块设计
1️⃣ 用户模块

功能描述：

用户注册/登录（账号、邮箱、密码）

修改个人资料（昵称、头像、邮箱）

查看自己创建的问卷

主要接口：

接口	请求方式	描述
/api/user/register	POST	注册新用户
/api/user/login	POST	用户登录
/api/user/update	PUT	修改用户信息
/api/user/info	GET	获取当前登录用户信息
2️⃣ 问卷管理模块

功能描述：

新建问卷（标题、描述、状态）

编辑、删除、发布、回收问卷

复制问卷模板（方便复用）

主要字段：

字段	类型	说明
id	bigint	问卷ID
title	varchar	问卷标题
description	text	问卷描述
creator_id	bigint	创建者ID
status	tinyint	状态（0草稿，1已发布，2已结束）
create_time	datetime	创建时间
update_time	datetime	更新时间

接口示例：

接口	请求方式	描述
/api/survey/create	POST	创建问卷
/api/survey/update	PUT	编辑问卷
/api/survey/delete/{id}	DELETE	删除问卷
/api/survey/list	GET	查询我的问卷列表
/api/survey/publish/{id}	PUT	发布问卷
3️⃣ 问题设计模块

功能描述：

为问卷添加题目

题型支持：单选、多选、填空、评分、下拉选择等

支持题目顺序拖拽调整

主要字段：

字段	类型	说明
id	bigint	问题ID
survey_id	bigint	所属问卷ID
type	varchar	题型（radio/checkbox/input/rate/select）
title	varchar	题目标题
options	json	选项内容（若有）
required	tinyint	是否必答（1是，0否）
order_no	int	排序号

接口示例：

接口	请求方式	描述
/api/question/add	POST	添加题目
/api/question/list/{surveyId}	GET	获取问卷题目
/api/question/delete/{id}	DELETE	删除题目
4️⃣ 答卷与统计模块

功能描述：

用户填写问卷并提交答案

系统自动统计结果

管理员或创建者查看分析报告

主要字段：

表	字段	说明
answer	id, survey_id, user_ip, submit_time	答卷记录表
answer_detail	id, answer_id, question_id, value	每道题的答案内容

接口示例：

接口	请求方式	描述
/api/answer/submit	POST	提交答卷
/api/answer/stat/{surveyId}	GET	获取问卷统计结果
/api/answer/export/{surveyId}	GET	导出答卷数据（Excel）

数据可视化：

使用 ECharts 展示饼图、柱状图、折线图

支持导出图表截图或 PDF 报告

5️⃣ 系统与安全模块

功能描述：

登录鉴权（JWT Token）

请求拦截与权限验证（基于角色）

操作日志记录（登录、发布、删除等）

五、数据库设计（核心表）

user（用户表）

survey（问卷表）

question（问题表）

answer（答卷表）

answer_detail（答卷详情表）

数据库：survey_db
字符集：utf8mb4_general_ci

六、系统流程图

用户流程：
注册 → 登录 → 创建问卷 → 添加题目 → 发布问卷 → 填写答卷 → 查看分析结果

数据流程：
答卷提交 → 存入数据库 → 统计结果 → 可视化展示