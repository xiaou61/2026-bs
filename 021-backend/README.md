# æ ¡å›­äºŒæ‰‹äº¤æ˜“å¹³å° - åç«¯

åŸºäºSpring Boot 3.2.0å¼€å‘çš„æ ¡å›­äºŒæ‰‹äº¤æ˜“å¹³å°åç«¯ç³»ç»Ÿï¼Œä¸ºå¤§å­¦ç”Ÿæä¾›ä¾¿æ·çš„é—²ç½®ç‰©å“äº¤æ˜“æœåŠ¡ã€‚

## ğŸš€ é¡¹ç›®ç‰¹æ€§

- **ç”¨æˆ·ç®¡ç†**: å­¦ç”Ÿæ³¨å†Œç™»å½•ã€ä¸ªäººä¿¡æ¯ç®¡ç†ã€ä¿¡ç”¨ç§¯åˆ†ç³»ç»Ÿ
- **å•†å“ç®¡ç†**: å•†å“å‘å¸ƒã€ç¼–è¾‘ã€ä¸Šä¸‹æ¶ã€æµè§ˆè¯¦æƒ…ã€æœç´¢ç­›é€‰
- **åˆ†ç±»ç®¡ç†**: é¢„ç½®6å¤§å•†å“åˆ†ç±»ï¼ˆæ•™æä¹¦ç±ã€æ•°ç ç”µå­ã€ç”Ÿæ´»ç”¨å“ç­‰ï¼‰
- **JWTè®¤è¯**: å®‰å…¨çš„ç”¨æˆ·èº«ä»½éªŒè¯å’Œæˆæƒæœºåˆ¶
- **ç»Ÿä¸€å“åº”**: æ ‡å‡†åŒ–çš„APIå“åº”æ ¼å¼
- **å¼‚å¸¸å¤„ç†**: å…¨å±€å¼‚å¸¸æ•è·å’Œå¤„ç†
- **æ•°æ®éªŒè¯**: å®Œæ•´çš„å‚æ•°æ ¡éªŒæœºåˆ¶

## ğŸ“‹ æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: Spring Boot 3.2.0
- **æ•°æ®åº“**: MySQL 8.0
- **ORM**: MyBatis-Plus 3.5.5
- **è®¤è¯**: JWT (jsonwebtoken)
- **å·¥å…·åº“**: Hutool 5.8.23, Lombok
- **æ„å»ºå·¥å…·**: Maven 3.6+
- **JDKç‰ˆæœ¬**: Java 17

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
src/main/java/com/xiaou/
â”œâ”€â”€ CampusMarketApplication.java      # å¯åŠ¨ç±»
â”œâ”€â”€ config/                          # é…ç½®ç±»
â”‚   â”œâ”€â”€ CorsConfig.java             # è·¨åŸŸé…ç½®
â”‚   â”œâ”€â”€ JwtInterceptor.java         # JWTæ‹¦æˆªå™¨
â”‚   â”œâ”€â”€ MybatisPlusConfig.java      # MyBatis-Plusé…ç½®
â”‚   â””â”€â”€ WebConfig.java              # Webé…ç½®
â”œâ”€â”€ controller/                     # æ§åˆ¶å™¨å±‚
â”‚   â”œâ”€â”€ UserController.java         # ç”¨æˆ·æ¥å£
â”‚   â”œâ”€â”€ CategoryController.java     # åˆ†ç±»æ¥å£
â”‚   â””â”€â”€ ProductController.java      # å•†å“æ¥å£
â”œâ”€â”€ service/                        # æœåŠ¡å±‚
â”‚   â”œâ”€â”€ impl/                       # æœåŠ¡å®ç°
â”‚   â”œâ”€â”€ UserService.java            # ç”¨æˆ·æœåŠ¡
â”‚   â”œâ”€â”€ CategoryService.java        # åˆ†ç±»æœåŠ¡
â”‚   â””â”€â”€ ProductService.java         # å•†å“æœåŠ¡
â”œâ”€â”€ mapper/                         # æ•°æ®è®¿é—®å±‚
â”‚   â”œâ”€â”€ UserMapper.java             # ç”¨æˆ·Mapper
â”‚   â”œâ”€â”€ CategoryMapper.java         # åˆ†ç±»Mapper
â”‚   â””â”€â”€ ProductMapper.java          # å•†å“Mapper
â”œâ”€â”€ entity/                         # å®ä½“ç±»
â”‚   â”œâ”€â”€ User.java                   # ç”¨æˆ·å®ä½“
â”‚   â”œâ”€â”€ Category.java               # åˆ†ç±»å®ä½“
â”‚   â”œâ”€â”€ Product.java                # å•†å“å®ä½“
â”‚   â”œâ”€â”€ OrderInfo.java              # è®¢å•å®ä½“
â”‚   â”œâ”€â”€ ChatMessage.java            # èŠå¤©æ¶ˆæ¯å®ä½“
â”‚   â”œâ”€â”€ Favorite.java               # æ”¶è—å®ä½“
â”‚   â””â”€â”€ SystemConfig.java           # ç³»ç»Ÿé…ç½®å®ä½“
â”œâ”€â”€ dto/                           # æ•°æ®ä¼ è¾“å¯¹è±¡
â”œâ”€â”€ vo/                            # è§†å›¾å¯¹è±¡
â”œâ”€â”€ common/                        # é€šç”¨ç±»
â”‚   â”œâ”€â”€ Result.java                # ç»Ÿä¸€å“åº”ç»“æœ
â”‚   â””â”€â”€ PageResult.java            # åˆ†é¡µå“åº”ç»“æœ
â”œâ”€â”€ exception/                     # å¼‚å¸¸å¤„ç†
â”‚   â”œâ”€â”€ BusinessException.java     # ä¸šåŠ¡å¼‚å¸¸
â”‚   â””â”€â”€ GlobalExceptionHandler.java # å…¨å±€å¼‚å¸¸å¤„ç†å™¨
â””â”€â”€ utils/                         # å·¥å…·ç±»
    â””â”€â”€ JwtUtil.java               # JWTå·¥å…·ç±»
```

## ğŸ—„ï¸ æ•°æ®åº“è®¾è®¡

é¡¹ç›®åŒ…å«7å¼ æ ¸å¿ƒè¡¨ï¼š

1. **user** - ç”¨æˆ·è¡¨ï¼ˆå­˜å‚¨ç”¨æˆ·åŸºæœ¬ä¿¡æ¯ã€ä¿¡ç”¨åˆ†ç­‰ï¼‰
2. **category** - å•†å“åˆ†ç±»è¡¨ï¼ˆé¢„ç½®6å¤§åˆ†ç±»ï¼‰
3. **product** - å•†å“è¡¨ï¼ˆå•†å“ä¿¡æ¯ã€çŠ¶æ€ã€ç»Ÿè®¡æ•°æ®ï¼‰
4. **order_info** - è®¢å•è¡¨ï¼ˆäº¤æ˜“è®¢å•ã€è¯„ä»·ä¿¡æ¯ï¼‰
5. **chat_message** - èŠå¤©æ¶ˆæ¯è¡¨ï¼ˆä¹°å–åŒæ–¹æ²Ÿé€šã€è®®ä»·ï¼‰
6. **favorite** - æ”¶è—è¡¨ï¼ˆç”¨æˆ·æ”¶è—çš„å•†å“ï¼‰
7. **system_config** - ç³»ç»Ÿé…ç½®è¡¨ï¼ˆç³»ç»Ÿå‚æ•°é…ç½®ï¼‰

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- JDK 17+
- Maven 3.6+
- MySQL 8.0+

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
   ```bash
   git clone <repository-url>
   cd 021-backend
   ```

2. **æ•°æ®åº“é…ç½®**
   ```sql
   # åˆ›å»ºæ•°æ®åº“
   CREATE DATABASE campus_market CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

   # å¯¼å…¥è¡¨ç»“æ„å’Œåˆå§‹æ•°æ®
   source src/main/resources/sql/init.sql
   ```

3. **ä¿®æ”¹é…ç½®**
   ç¼–è¾‘ `src/main/resources/application.yml` ä¸­çš„æ•°æ®åº“è¿æ¥ä¿¡æ¯ï¼š
   ```yaml
   spring:
     datasource:
       url: jdbc:mysql://localhost:3306/campus_market?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=GMT%2B8
       username: your_username
       password: your_password
   ```

4. **å¯åŠ¨é¡¹ç›®**
   ```bash
   mvn clean install
   mvn spring-boot:run
   ```

5. **è®¿é—®æ¥å£**
   é¡¹ç›®å¯åŠ¨åï¼ŒAPIè®¿é—®åœ°å€ï¼š`http://localhost:8080/api`

## ğŸ“š APIæ–‡æ¡£

### ç”¨æˆ·æ¨¡å— `/user`

| æ–¹æ³• | è·¯å¾„ | æè¿° |
|------|------|------|
| POST | `/user/register` | ç”¨æˆ·æ³¨å†Œ |
| POST | `/user/login` | ç”¨æˆ·ç™»å½• |
| GET | `/user/info` | è·å–ç”¨æˆ·ä¿¡æ¯ |
| PUT | `/user/update` | æ›´æ–°ç”¨æˆ·ä¿¡æ¯ |
| GET | `/user/profile/{id}` | æŸ¥çœ‹ç”¨æˆ·èµ„æ–™ |

### åˆ†ç±»æ¨¡å— `/category`

| æ–¹æ³• | è·¯å¾„ | æè¿° |
|------|------|------|
| GET | `/category/list` | è·å–åˆ†ç±»åˆ—è¡¨ |

### å•†å“æ¨¡å— `/product`

| æ–¹æ³• | è·¯å¾„ | æè¿° |
|------|------|------|
| POST | `/product/publish` | å‘å¸ƒå•†å“ |
| PUT | `/product/update` | æ›´æ–°å•†å“ |
| DELETE | `/product/{id}` | åˆ é™¤å•†å“ |
| PUT | `/product/{id}/shelf` | å•†å“ä¸Šä¸‹æ¶ |
| GET | `/product/list` | å•†å“åˆ—è¡¨ï¼ˆæ”¯æŒæœç´¢ã€ç­›é€‰ã€æ’åºï¼‰ |
| GET | `/product/{id}` | å•†å“è¯¦æƒ… |
| GET | `/product/my` | æˆ‘çš„å‘å¸ƒ |

## ğŸ”§ æ ¸å¿ƒåŠŸèƒ½ç‰¹æ€§

### ç”¨æˆ·è®¤è¯
- JWT Tokenè®¤è¯æœºåˆ¶
- ç™»å½•çŠ¶æ€è‡ªåŠ¨ç»­æœŸ
- æ‹¦æˆªå™¨ç»Ÿä¸€é‰´æƒ

### å•†å“ç®¡ç†
- æ”¯æŒå¤šå›¾ç‰‡ä¸Šä¼ 
- å•†å“çŠ¶æ€ç®¡ç†ï¼ˆåœ¨å”®/å·²å”®/ä¸‹æ¶ï¼‰
- æµè§ˆé‡ç»Ÿè®¡
- æ”¶è—æ•°ç»Ÿè®¡

### æœç´¢ç­›é€‰
- å…³é”®è¯æœç´¢ï¼ˆæ ‡é¢˜ã€æè¿°ï¼‰
- åˆ†ç±»ç­›é€‰
- æˆè‰²ç­›é€‰
- ä»·æ ¼æ’åº
- æ—¶é—´æ’åº
- çƒ­é—¨æ’åº

### æ•°æ®éªŒè¯
- å®Œæ•´çš„å‚æ•°æ ¡éªŒ
- ä¸šåŠ¡è§„åˆ™éªŒè¯
- å¼‚å¸¸ç»Ÿä¸€å¤„ç†

## ğŸ“ å¾…å®ŒæˆåŠŸèƒ½

- [ ] è®¢å•ç®¡ç†æ¨¡å—
- [ ] èŠå¤©åŠŸèƒ½æ¨¡å—
- [ ] æ”¶è—åŠŸèƒ½æ¨¡å—
- [ ] å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½
- [ ] ä¿¡ç”¨åˆ†è¯„ä»·ç³»ç»Ÿ
- [ ] ç®¡ç†åå°æ¥å£

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- é¡¹ç›®Issue: [GitHub Issues](https://github.com/your-username/021-backend/issues)
- é‚®ç®±: your-email@example.com

---

**æ³¨æ„**: è¿™æ˜¯ä¸€ä¸ªæ ¡å›­äºŒæ‰‹äº¤æ˜“å¹³å°çš„åç«¯å®ç°ï¼Œé€‚åˆä½œä¸ºæ¯•ä¸šè®¾è®¡é¡¹ç›®ä½¿ç”¨ã€‚å¦‚éœ€åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ï¼Œè¯·ç¡®ä¿å®Œå–„å®‰å…¨æœºåˆ¶å’Œæ€§èƒ½ä¼˜åŒ–ã€‚