# 校园表白墙与匿名社交平台 - 账号信息

## 数据库配置

```yaml
数据库名: campus_confession
用户名: root
密码: root
端口: 3306
```

## 管理员账号

| 账号 | 密码 | 角色 | 说明 |
|------|------|------|------|
| admin | admin123 | 超级管理员 | 拥有所有权限 |

## 测试用户账号

| 学号 | 密码 | 姓名 | 手机号 | 认证状态 | 说明 |
|------|------|------|--------|----------|------|
| 20210001 | 123456 | 张三 | 13800138001 | 已认证 | 测试用户1，积分100 |
| 20210002 | 123456 | 李四 | 13800138002 | 已认证 | 测试用户2，积分80 |

## 密码加密说明

所有密码使用 BCrypt 加密算法加密存储，原始密码：
- 管理员：`admin123`
- 测试用户：`123456`

加密后的密码（BCrypt）：
```
$2a$10$xQh7YKZjYvFjXXLLQpWqUeN9Z3jZvN7lXNT8Y3kJqN.wJqGqVHRQW
```

## 密码加密测试

运行测试类验证密码加密是否正确：

```bash
mvn test -Dtest=PasswordUtilTest
```

## API访问地址

- 后端API地址：http://localhost:8080
- 用户登录接口：http://localhost:8080/api/auth/login
- 管理员登录接口：http://localhost:8080/api/auth/admin/login

## 登录测试示例

### 用户登录
```json
POST /api/auth/login
{
    "account": "20210001",
    "password": "123456"
}
```

### 管理员登录
```json
POST /api/auth/admin/login
{
    "username": "admin",
    "password": "admin123"
}
```

## 初始数据说明

系统已预置：
- ✅ 1个管理员账号
- ✅ 2个测试用户账号（已实名认证）
- ✅ 13个敏感词（用于测试敏感词过滤）
- ✅ 3个测试帖子（表白/吐槽/求助）
- ✅ 3条测试评论

## 功能测试清单

### 用户端功能
- [x] 用户注册（学号、姓名、手机号、密码）
- [x] 用户登录（学号/手机号登录）
- [x] 实名认证（上传学生证）
- [x] 匿名发帖（6个分类）
- [x] 浏览帖子（分类、排序、搜索）
- [x] 帖子详情（浏览计数）
- [x] 评论功能（楼中楼）
- [x] 点赞功能（帖子/评论）
- [x] 敏感词过滤（自动替换为***）
- [x] 个人中心（我的发帖、评论、积分）
- [x] 修改密码

### 管理员功能
- [x] 管理员登录
- [x] 数据概览（用户数、帖子数、举报数等）
- [x] 用户管理（查看、禁言、封号）
- [x] 实名认证审核
- [x] 帖子内容审核
- [x] 举报处理
- [x] 敏感词管理（增删查）
- [x] 帖子管理（置顶、删除）

## 核心特性

1. **匿名保护**
   - 每个帖子使用不同的匿名昵称和头像
   - 真实身份与匿名身份完全隔离
   - 管理员可查看真实身份（用于违规处理）

2. **敏感词过滤**
   - 三级敏感词库（轻度/中度/重度）
   - 自动过滤敏感词为***
   - DFA算法实现高效过滤

3. **积分等级系统**
   - 注册认证：+10分
   - 发布帖子：+5分
   - 评论互动：+2分
   - 收到点赞：+1分
   - 违规处罚：-10分

4. **举报审核机制**
   - 用户举报（色情、暴力、广告等）
   - 管理员审核
   - 分级处罚（警告/禁言/封号）

## 注意事项

1. 首次启动前需要先执行 `schema.sql` 创建数据库和表结构
2. 然后执行 `init_data.sql` 插入初始数据
3. 确保MySQL服务已启动，端口为3306
4. 修改 `application.yml` 中的数据库连接信息（如需要）
5. 确保 `uploads/` 目录存在且有写入权限（用于文件上传）

## 技术栈

- **后端框架**：Spring Boot 3.2.0
- **持久层**：MyBatis-Plus 3.5.5
- **数据库**：MySQL 8.0
- **认证方式**：JWT (JsonWebToken)
- **密码加密**：BCrypt
- **开发语言**：Java 17

