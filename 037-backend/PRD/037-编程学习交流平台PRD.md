# 037 - 编程学习交流平台 PRD

## 一、项目概述

### 1.1 项目名称
基于SpringBoot的编程学习交流平台的设计与实现

### 1.2 项目背景
随着互联网技术的快速发展，在线学习已成为编程学习者的重要选择。本平台旨在为编程学习者提供一个集学习、交流、分享、实践于一体的综合性平台，帮助用户提升编程能力，促进技术社区的良性发展。

### 1.3 项目目标
- 提供优质的编程学习内容和教程
- 构建活跃的技术问答社区
- 支持代码分享和协作学习
- 提供学习路径规划和进度跟踪
- 通过积分和成就系统激励用户学习

### 1.4 目标用户
- 编程初学者：寻求系统化的学习路径
- 在校学生：准备考试、竞赛、项目实践
- 职场程序员：技能提升、技术交流
- 技术分享者：分享经验、建立影响力

---

## 二、技术选型

### 2.1 后端技术栈
- **框架**：Spring Boot 3.2.0
- **ORM**：MyBatis 3.0.3（区别于大部分项目的MyBatis-Plus）
- **数据库**：MySQL 8.0
- **缓存**：Redis 6.0+
- **认证**：JWT + Spring Security
- **文档**：Knife4j（Swagger）
- **工具**：Lombok、Hutool

### 2.2 前端技术栈
- **框架**：微信小程序原生开发（区别于大部分项目的Vue/React）
- **UI组件**：WeUI + Vant Weapp
- **状态管理**：全局数据共享
- **HTTP库**：wx.request封装

### 2.3 技术亮点
- 微信小程序原生开发，实现移动端优先体验
- MyBatis XML配置，精细控制SQL
- Redis多场景应用（缓存、排行榜、热门内容）
- Markdown富文本编辑和展示
- 代码高亮显示（highlight.js）
- 实时消息通知

---

## 三、核心功能模块

### 3.1 用户系统

#### 3.1.1 注册与登录
- **微信授权登录**：一键授权，快速登录
- **手机号绑定**：绑定手机号，增强账号安全
- **个人信息完善**：昵称、头像、个人简介、技术栈标签

#### 3.1.2 个人主页
- **基本信息展示**：头像、昵称、个人简介、注册时间
- **学习数据统计**：学习时长、完成课程数、发帖数、获赞数
- **技术标签**：展示擅长的编程语言和技术栈
- **成就勋章**：展示获得的成就和等级
- **动态时间轴**：用户的学习动态和发布记录

#### 3.1.3 积分与等级
- **积分获取规则**：
  - 每日签到：+5积分
  - 发布教程：+20积分
  - 发布问题：+3积分
  - 回答问题：+5积分
  - 回答被采纳：+20积分
  - 帖子被点赞：+2积分
  - 完成课程：+10积分
- **等级体系**：
  - Lv1 初学者（0-99分）
  - Lv2 入门者（100-299分）
  - Lv3 进阶者（300-599分）
  - Lv4 熟练者（600-999分）
  - Lv5 专家（1000+分）

### 3.2 课程学习模块

#### 3.2.1 课程管理
- **课程分类**：前端、后端、移动端、数据库、算法、AI等
- **课程列表**：分类浏览、搜索筛选、热门推荐
- **课程详情**：
  - 课程标题、封面、简介
  - 难度等级（入门/进阶/高级）
  - 学习人数、评分
  - 课程章节目录
  - 讲师信息

#### 3.2.2 章节学习
- **章节内容**：Markdown富文本展示
- **代码示例**：代码高亮显示，支持复制
- **视频播放**：视频链接播放（可选）
- **学习笔记**：章节学习笔记记录
- **学习进度**：自动记录学习进度

#### 3.2.3 学习路径
- **推荐路径**：系统推荐的学习路径（如Java全栈、前端工程师）
- **自定义路径**：用户自己创建学习计划
- **进度跟踪**：路径完成进度可视化展示
- **里程碑**：完成路径节点获得成就

### 3.3 问答社区

#### 3.3.1 提问
- **发布问题**：标题、详情、代码片段、标签
- **Markdown编辑**：富文本编辑器
- **代码插入**：支持多种编程语言代码高亮
- **悬赏积分**：设置悬赏积分，吸引优质回答

#### 3.3.2 回答
- **发布回答**：Markdown格式，支持代码高亮
- **最佳答案**：提问者采纳最佳答案，回答者获得悬赏
- **回答排序**：按时间、点赞数、是否采纳排序
- **评论互动**：对回答进行评论

#### 3.3.3 问题广场
- **最新问题**：按发布时间排序
- **热门问题**：按浏览量、回答数、点赞数排序
- **待解决**：未采纳最佳答案的问题
- **已解决**：已采纳最佳答案的问题
- **标签筛选**：按技术标签筛选

### 3.4 技术文章

#### 3.4.1 文章发布
- **文章创建**：标题、封面、摘要、正文、标签
- **Markdown编辑**：富文本编辑器
- **代码高亮**：支持多种编程语言
- **草稿箱**：保存草稿，随时继续编辑
- **发布设置**：公开/私密、是否允许评论

#### 3.4.2 文章浏览
- **文章列表**：分类浏览、推荐文章、最新文章
- **文章详情**：
  - 文章内容展示
  - 作者信息
  - 发布时间、浏览量、点赞数
  - 相关推荐文章
- **评论互动**：发表评论、点赞评论、回复评论
- **收藏文章**：收藏到个人收藏夹

#### 3.4.3 专栏
- **创建专栏**：系列文章合集
- **专栏订阅**：订阅感兴趣的专栏
- **专栏管理**：添加/移除文章

### 3.5 代码分享

#### 3.5.1 代码片段
- **创建代码片段**：标题、描述、代码、语言类型、标签
- **代码高亮**：自动识别语言，语法高亮
- **一键复制**：快速复制代码
- **Fork功能**：基于他人代码片段创建自己的版本
- **点赞收藏**：对优质代码点赞和收藏

#### 3.5.2 项目展示
- **项目信息**：项目名称、描述、技术栈、截图、仓库地址
- **项目列表**：按技术栈、热度筛选
- **项目详情**：详细介绍、技术实现、遇到的问题
- **点赞评论**：社区反馈

### 3.6 学习打卡

#### 3.6.1 每日打卡
- **打卡记录**：记录每日学习时长和内容
- **打卡日历**：可视化展示打卡记录
- **连续打卡**：连续打卡天数统计，获得额外积分
- **打卡排行**：本周/本月打卡排行榜

#### 3.6.2 学习统计
- **时长统计**：每日/每周/每月学习时长
- **课程进度**：在学课程列表和进度
- **知识图谱**：学习的知识点标签云
- **成长曲线**：积分和等级成长趋势图

### 3.7 消息通知

#### 3.7.1 系统通知
- **点赞通知**：文章、回答被点赞
- **评论通知**：文章、回答被评论
- **回答通知**：问题有新回答
- **采纳通知**：回答被采纳为最佳答案
- **@提醒**：被他人@提及

#### 3.7.2 私信
- **发送私信**：一对一消息
- **消息列表**：会话列表
- **未读标记**：未读消息提醒

### 3.8 搜索功能

#### 3.8.1 全局搜索
- **课程搜索**：按关键词搜索课程
- **问题搜索**：按关键词搜索问题
- **文章搜索**：按关键词搜索文章
- **代码搜索**：按关键词搜索代码片段
- **用户搜索**：按昵称搜索用户

#### 3.8.2 搜索优化
- **热门搜索**：展示热门搜索词
- **搜索历史**：记录个人搜索历史
- **搜索建议**：输入时智能提示

### 3.9 管理后台

#### 3.9.1 用户管理
- **用户列表**：查看所有用户
- **用户详情**：查看用户详细信息
- **用户状态**：启用/禁用用户
- **权限管理**：设置用户角色

#### 3.9.2 内容管理
- **课程审核**：审核用户创建的课程
- **文章审核**：审核用户发布的文章
- **问题管理**：删除违规问题
- **评论管理**：删除不良评论

#### 3.9.3 数据统计
- **用户统计**：注册用户数、活跃用户数
- **内容统计**：课程数、文章数、问题数
- **学习统计**：学习时长、完成课程数
- **趋势分析**：用户增长趋势、内容增长趋势

---

## 四、数据库设计

### 4.1 核心数据表

#### 用户相关
- **users**：用户表（id, username, password, avatar, phone, score, level, status, create_time）
- **user_profiles**：用户资料表（user_id, bio, tech_tags, github_url, blog_url）
- **user_achievements**：用户成就表（user_id, achievement_id, achieve_time）

#### 课程相关
- **courses**：课程表（id, title, cover, description, category, difficulty, creator_id, price, status）
- **chapters**：章节表（id, course_id, title, content, sort_order, duration）
- **learning_records**：学习记录表（id, user_id, course_id, chapter_id, progress, learn_time）
- **learning_paths**：学习路径表（id, title, description, courses, creator_id）

#### 问答相关
- **questions**：问题表（id, title, content, tags, bounty, user_id, view_count, status, create_time）
- **answers**：回答表（id, question_id, content, user_id, is_accepted, like_count, create_time）
- **comments**：评论表（id, target_type, target_id, content, user_id, parent_id, create_time）

#### 文章相关
- **articles**：文章表（id, title, cover, summary, content, tags, user_id, view_count, like_count, create_time）
- **columns**：专栏表（id, title, description, user_id, article_count, subscriber_count）

#### 代码相关
- **code_snippets**：代码片段表（id, title, description, code, language, tags, user_id, like_count）
- **projects**：项目表（id, title, description, tech_stack, screenshots, repo_url, user_id）

#### 互动相关
- **likes**：点赞表（id, user_id, target_type, target_id, create_time）
- **favorites**：收藏表（id, user_id, target_type, target_id, create_time）
- **follows**：关注表（id, follower_id, followee_id, create_time）

#### 系统相关
- **notifications**：通知表（id, user_id, type, content, is_read, create_time）
- **messages**：私信表（id, sender_id, receiver_id, content, is_read, create_time）
- **check_in_logs**：签到记录表（id, user_id, check_date, continuous_days）
- **score_logs**：积分记录表（id, user_id, score, reason, create_time）

---

## 五、接口设计

### 5.1 认证接口
- `POST /api/auth/wx-login` - 微信授权登录
- `POST /api/auth/bind-phone` - 绑定手机号
- `GET /api/auth/user-info` - 获取当前用户信息
- `PUT /api/auth/update-profile` - 更新个人资料

### 5.2 课程接口
- `GET /api/courses` - 获取课程列表
- `GET /api/courses/{id}` - 获取课程详情
- `GET /api/courses/{id}/chapters` - 获取课程章节
- `POST /api/courses/{courseId}/learn` - 记录学习进度
- `GET /api/courses/my-learning` - 我的学习课程

### 5.3 问答接口
- `GET /api/questions` - 获取问题列表
- `POST /api/questions` - 发布问题
- `GET /api/questions/{id}` - 获取问题详情
- `POST /api/questions/{id}/answers` - 发布回答
- `PUT /api/answers/{id}/accept` - 采纳回答

### 5.4 文章接口
- `GET /api/articles` - 获取文章列表
- `POST /api/articles` - 发布文章
- `GET /api/articles/{id}` - 获取文章详情
- `PUT /api/articles/{id}` - 更新文章
- `DELETE /api/articles/{id}` - 删除文章

### 5.5 代码接口
- `GET /api/snippets` - 获取代码片段列表
- `POST /api/snippets` - 创建代码片段
- `GET /api/snippets/{id}` - 获取代码详情
- `POST /api/snippets/{id}/fork` - Fork代码片段

### 5.6 互动接口
- `POST /api/likes` - 点赞
- `DELETE /api/likes/{id}` - 取消点赞
- `POST /api/favorites` - 收藏
- `GET /api/comments` - 获取评论列表
- `POST /api/comments` - 发表评论

### 5.7 用户接口
- `GET /api/users/{id}` - 获取用户主页
- `GET /api/users/{id}/articles` - 用户的文章
- `GET /api/users/{id}/questions` - 用户的问题
- `POST /api/check-in` - 每日签到
- `GET /api/score-logs` - 积分记录

---

## 六、非功能需求

### 6.1 性能要求
- 接口响应时间：< 500ms
- 页面加载时间：< 2s
- 支持并发用户数：1000+
- 数据库查询优化：合理使用索引

### 6.2 安全要求
- JWT Token认证
- 密码加密存储（BCrypt）
- SQL注入防护
- XSS攻击防护
- 敏感信息脱敏

### 6.3 可用性要求
- 系统可用率：≥ 99%
- 数据备份策略：每日备份
- 异常日志记录
- 监控告警机制

### 6.4 兼容性要求
- 微信小程序基础库版本：≥ 2.0.0
- 支持iOS和Android系统
- 后端JDK版本：17
- MySQL版本：8.0+

---

## 七、项目排期

### 第一阶段：基础功能（1周）
- 用户系统（注册登录、个人主页）
- 课程浏览和学习
- 基础数据表设计

### 第二阶段：社区功能（1周）
- 问答社区（提问、回答、采纳）
- 技术文章（发布、浏览、评论）
- 点赞、收藏、评论功能

### 第三阶段：进阶功能（1周）
- 代码分享模块
- 学习打卡和统计
- 积分和成就系统

### 第四阶段：优化完善（1周）
- 搜索功能完善
- 消息通知系统
- 性能优化和测试

---

## 八、风险与挑战

### 8.1 技术风险
- 微信小程序API限制和兼容性问题
- MyBatis XML配置复杂度控制
- 大量文本内容的存储和检索性能

### 8.2 业务风险
- 用户生成内容质量把控
- 恶意刷分和作弊行为
- 版权和内容合规问题

### 8.3 应对策略
- 充分测试微信小程序在不同设备上的表现
- 使用MyBatis Generator生成基础代码
- 引入全文检索（MySQL全文索引或Elasticsearch）
- 建立内容审核机制和用户举报系统
- 完善积分规则和反作弊机制

---

## 九、成功指标

### 9.1 用户指标
- 注册用户数：≥ 1000
- 日活跃用户（DAU）：≥ 100
- 用户留存率（7日）：≥ 30%

### 9.2 内容指标
- 课程数量：≥ 50
- 文章数量：≥ 200
- 问题数量：≥ 500
- 平均回答率：≥ 70%

### 9.3 互动指标
- 日均评论数：≥ 50
- 日均点赞数：≥ 200
- 平均学习时长：≥ 30分钟/天

---

## 十、后续规划

### 10.1 功能扩展
- 在线代码编辑器（Monaco Editor）
- 实时协作编程
- 视频课程上传和播放
- AI智能助手（代码纠错、学习建议）
- 直播互动教学

### 10.2 平台扩展
- Web版本开发
- APP版本开发
- 多语言支持

### 10.3 商业化
- 付费课程
- 会员体系
- 企业培训服务
- 广告位招商

---

**文档版本**：v1.0
**编写日期**：2026-01-04
**编写人**：项目组
